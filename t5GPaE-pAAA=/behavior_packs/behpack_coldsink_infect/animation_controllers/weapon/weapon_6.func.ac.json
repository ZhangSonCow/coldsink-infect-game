{
	"format_version": "1.12.0",
	"animation_controllers": {
		"controller.animation.weapon_6.func": {
			"initial_state": "default",
			"states": {
				"default": {
					"transitions": [
						{
							"empty": "q.property('coldsink:action_status') == 3"
						},
						{
							"fire": "q.is_using_item && !q.property('coldsink:jockey_control') && !q.property('coldsink:tnnk_howl_control')"
						},
						{
							"loading": "v.attack_time || q.is_item_name_any('slot.weapon.mainhand', 0, 'coldsink:weapon_6_empty')"
						}
					]
				},
				"fire": {
					"animations": [ "weapon_6_fire" ],
					"transitions": [
						{
							"empty": "q.property('coldsink:action_status') == 3"
						},
						{
							"default": "q.property('coldsink:action_status') == 0"
						}
					],
					"on_entry": [
						"/event entity @s[scores={bullet_6=1..}] action_fired",
						"/event entity @s[tag=fire_sp,scores={bullet_6=1..}] coldsink:weapon_6_fire_sp",
						"/event entity @s[tag=!fire_sp,scores={bullet_6=1..}] coldsink:weapon_6_fire",
						"/scoreboard players remove @s[scores={bullet_6=1..}] bullet_6 1",
						"/titleraw @s[tag=maper,hasitem={item=coldsink:weapon_6,location=slot.weapon.mainhand}] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_back_sp\"}},{\"text\":\"§f >\"}]}",
						"/titleraw @s[tag=!maper,hasitem={item=coldsink:weapon_6,location=slot.weapon.mainhand}] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §73\"},{\"text\":\"§f >\"}]}",
						"/event entity @s[scores={bullet_6=0}] action_empty",

						"/camerashake add @s[tag=!sneaking_aim,scores={bullet_6=1..}] 0.5 0.1 rotational",
						"/camerashake add @s[tag=sneaking_aim,scores={bullet_6=1..}] 0.24 0.1 rotational",
						"/scoreboard players random @s[scores={bullet_6=1..}] wp_random 1 3",
						"/execute @s[scores={wp_random=1,bullet_6=1..}] ~~~ playsound weapon_6.piu @a ~~~ 3 0.8",
						"/execute @s[scores={wp_random=2,bullet_6=1..}] ~~~ playsound weapon_6.piu @a ~~~ 3 1",
						"/execute @s[scores={wp_random=3,bullet_6=1..}] ~~~ playsound weapon_6.piu @a ~~~ 3 1.2"
					],
					"on_exit": [
						"/clear @s[tag=maper,scores={bullet_6=0,bullet_back_sp=0}] coldsink:weapon_6",
						"/clear @s[tag=maper,scores={bullet_6=0,bullet_back_sp=0}] coldsink:weapon_6_empty"
					]
				},
				"loading": {
					"animations": [ "weapon_6_loading" ],
					"transitions": [
						{
							"default": "q.property('coldsink:action_status') == 0"
						}
					],
					"on_entry": [
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}] action_reload",
						"/titleraw @s[tag=maper,scores={bullet_6=3..}] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_back_sp\"}},{\"text\":\"§f >\"}]}",
						"/title @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=0}] actionbar §7备用弹夹已耗尽",

						"/event entity @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}] action_reload",
						"/titleraw @s[tag=!maper,scores={bullet_6=3..}] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §73\"},{\"text\":\"§f >\"}]}",
						"/title @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip,quantity=0}] actionbar §7未携带备用弹夹",
						
						"/event entity @s[m=c,scores={bullet_6=..2}] action_reload",
						"/event entity @s[tag=bullet_infinite,scores={bullet_6=..2}] action_reload"
					],
					"on_exit": [
						"/replaceitem entity @s[tag=maper,hasitem={item=coldsink:weapon_6_empty,location=slot.weapon.mainhand}] slot.weapon.mainhand 1 coldsink:weapon_6 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
						"/replaceitem entity @s[tag=!maper,hasitem={item=coldsink:weapon_6_empty,location=slot.weapon.mainhand}] slot.weapon.mainhand 1 coldsink:weapon_6 1 0"
					]
				},
				"empty": {
					"transitions": [
						{
							"default": "q.property('coldsink:action_status') == 0"
						},
						{
							"loading": "v.attack_time || q.is_item_name_any('slot.weapon.mainhand', 0, 'coldsink:weapon_6_empty')"
						},
						{
							"empty_fire": "q.is_using_item"
						}
					]
				},
				"empty_fire": {
					"transitions": [
						{
							"loading": "q.property('coldsink:action_status') == 2"
						},
						{
							"empty": "!q.is_using_item"
						}
					],
					"on_entry": [
						"/title @s[m=!c,tag=!bullet_infinite,tag=maper] actionbar §7备用弹夹已耗尽",
						"/title @s[m=!c,tag=!bullet_infinite,tag=!maper] actionbar §7未携带备用弹夹",
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}] action_reload",
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}] action_reload",
						"/event entity @s[m=c,scores={bullet_6=..2}] action_reload",
						"/event entity @s[tag=bullet_infinite,scores={bullet_6=..2}] action_reload"
					]
				}
				
			}
		}
	}
}
