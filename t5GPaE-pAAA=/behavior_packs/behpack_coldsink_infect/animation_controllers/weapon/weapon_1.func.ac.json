{
	"format_version": "1.12.0",
	"animation_controllers": {
		"controller.animation.weapon_1.func": {
			"initial_state": "default",
			"states": {
				"default": {
					"transitions": [
						{
							"empty": "q.property('coldsink:action_status') == 3"
						},
						{
							"fire": "q.is_using_item && !q.property('coldsink:jockey_control') && !q.property('coldsink:tnnk_howl_control')"
						},
						{
							"loading": "v.attack_time || q.is_item_name_any('slot.weapon.mainhand', 0, 'coldsink:weapon_1_empty')"
						}
					]
				},
				"fire": {
					"animations": [ "weapon_1_fire" ],
					"transitions": [
						{
							"empty": "q.property('coldsink:action_status') == 3"
						},
						{
							"default": "q.property('coldsink:action_status') == 0"
						}
					],
					"on_entry": [
						"/event entity @s[scores={bullet_1=1..}] action_fired",
						"/event entity @s[tag=fire_sp,scores={bullet_1=1..}] coldsink:weapon_1_fire_sp",
						"/event entity @s[tag=!fire_sp,scores={bullet_1=1..}] coldsink:weapon_1_fire",
						"/scoreboard players remove @s[scores={bullet_1=1..}] bullet_1 1",
						"/titleraw @s[tag=maper,hasitem={item=coldsink:weapon_1,location=slot.weapon.mainhand}] actionbar {\"rawtext\":[{\"text\":\"§f< §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_1\"}},{\"text\":\"§f / §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_back\"}},{\"text\":\"§f >\"}]}",
						"/titleraw @s[tag=!maper,hasitem={item=coldsink:weapon_1,location=slot.weapon.mainhand}] actionbar {\"rawtext\":[{\"text\":\"§f< §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_1\"}},{\"text\":\"§f / §b30\"},{\"text\":\"§f >\"}]}",
						"/event entity @s[scores={bullet_1=0}] action_empty",

						"/camerashake add @s[tag=!sneaking_aim,scores={bullet_1=1..}] 0.05 0.1 rotational",
						"/camerashake add @s[tag=sneaking_aim,scores={bullet_1=1..}] 0.018 0.1 rotational",
						"/scoreboard players random @s[scores={bullet_1=1..}] wp_random 1 3",
						"/execute @s[scores={wp_random=1,bullet_1=1..}] ~~~ playsound weapon_1.piu @a ~~~ 3 0.8",
						"/execute @s[scores={wp_random=2,bullet_1=1..}] ~~~ playsound weapon_1.piu @a ~~~ 3 1",
						"/execute @s[scores={wp_random=3,bullet_1=1..}] ~~~ playsound weapon_1.piu @a ~~~ 3 1.2"
					]
				},
				"loading": {
					"animations": [ "weapon_1_loading" ],
					"transitions": [
						{
							"default": "q.property('coldsink:action_status') == 0"
						}
					],
					"on_entry": [
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_1=..29,bullet_back=1..}] action_reload",
						"/titleraw @s[tag=maper,scores={bullet_1=30..}] actionbar {\"rawtext\":[{\"text\":\"§f< §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_1\"}},{\"text\":\"§f / §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_back\"}},{\"text\":\"§f >\"}]}",
						"/title @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_1=..29,bullet_back=0}] actionbar §b备用弹夹已耗尽",

						"/event entity @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_1=..29},hasitem={item=coldsink:weapon_1_clip}] action_reload",
						"/titleraw @s[tag=!maper,scores={bullet_1=30..}] actionbar {\"rawtext\":[{\"text\":\"§f< §b\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_1\"}},{\"text\":\"§f / §b30\"},{\"text\":\"§f >\"}]}",
						"/title @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_1=..29},hasitem={item=coldsink:weapon_1_clip,quantity=0}] actionbar §b未携带备用弹夹",
						
						"/event entity @s[m=c,scores={bullet_1=..29}] action_reload",
						"/event entity @s[tag=bullet_infinite,scores={bullet_1=..29}] action_reload"
					],
					"on_exit": [
						"/replaceitem entity @s[tag=maper,hasitem={item=coldsink:weapon_1_empty,location=slot.weapon.mainhand}] slot.weapon.mainhand 1 coldsink:weapon_1 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
						"/replaceitem entity @s[tag=!maper,hasitem={item=coldsink:weapon_1_empty,location=slot.weapon.mainhand}] slot.weapon.mainhand 1 coldsink:weapon_1 1 0"
					]
				},
				"empty": {
					"transitions": [
						{
							"default": "q.property('coldsink:action_status') == 0"
						},
						{
							"loading": "v.attack_time || q.is_item_name_any('slot.weapon.mainhand', 0, 'coldsink:weapon_1_empty')"
						},
						{
							"empty_fire": "q.is_using_item"
						}
					]
				},
				"empty_fire": {
					"transitions": [
						{
							"loading": "q.property('coldsink:action_status') == 2"
						},
						{
							"empty": "!q.is_using_item"
						}
					],
					"on_entry": [
						"/title @s[m=!c,tag=!bullet_infinite,tag=maper] actionbar §b备用弹夹已耗尽",
						"/title @s[m=!c,tag=!bullet_infinite,tag=!maper] actionbar §b未携带备用弹夹",
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_1=..29,bullet_back=1..}] action_reload",
						"/event entity @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_1=..29},hasitem={item=coldsink:weapon_1_clip}] action_reload",
						"/event entity @s[m=c,scores={bullet_1=..29}] action_reload",
						"/event entity @s[tag=bullet_infinite,scores={bullet_1=..29}] action_reload"
					]
				}
				
			}
		}
	}
}
