{
  "format_version": "1.8.0",
  "animations": {
    "animation.weapon_6_fire.func": {
      "loop": false,
      "animation_length": 10.0,
      "timeline": {
        "1.5": [
          "/event entity @s action_clear"
        ]
      }
    },
    "animation.weapon_6_loading.func": {
      "loop": false,
      "animation_length": 10.0,
      "timeline": {
        "0.0": [
          "/tag @s add self",

          "/replaceitem entity @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}] slot.weapon.mainhand 1 coldsink:weapon_6_empty 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
          "/title @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}] actionbar §7Reloading...",
          "/execute @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}] ~~~ playsound weapon_6.reload @a[tag=!self] ~~~",
          "/playsound weapon_6.reload.self @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_6=..2,bullet_back_sp=1..}]",

          "/replaceitem entity @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}] slot.weapon.mainhand 1 coldsink:weapon_6_empty 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
          "/title @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}] actionbar §7Reloading...",
          "/execute @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}] ~~~ playsound weapon_6.reload @a[tag=!self] ~~~",
          "/playsound weapon_6.reload.self @s[m=!c,tag=!bullet_infinite,tag=!maper,scores={bullet_6=..2},hasitem={item=coldsink:weapon_6_clip}]",

          "/replaceitem entity @s[m=c,scores={bullet_6=..2}] slot.weapon.mainhand 1 coldsink:weapon_6_empty 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
          "/title @s[m=c,scores={bullet_6=..2}] actionbar §7Reloading...",
          "/execute @s[m=c,scores={bullet_6=..2}] ~~~ playsound weapon_6.reload @a[tag=!self] ~~~",
          "/playsound weapon_6.reload.self @s[m=c,scores={bullet_6=..2}]",

          "/replaceitem entity @s[tag=bullet_infinite,scores={bullet_6=..2}] slot.weapon.mainhand 1 coldsink:weapon_6_empty 1 0 {\"item_lock\":{\"mode\":\"lock_in_slot\"}}",
          "/title @s[tag=bullet_infinite,scores={bullet_6=..2}] actionbar §7Reloading...",
          "/execute @s[tag=bullet_infinite,scores={bullet_6=..2}] ~~~ playsound weapon_6.reload @a[tag=!self] ~~~",
          "/playsound weapon_6.reload.self @s[tag=bullet_infinite,scores={bullet_6=..2}]",
          
          "/tag @s remove self"
        ],
        "3.0": [
          // 【地图】

          // 计算备弹是否能填满主弹夹
          "/scoreboard players set @s[m=!c,tag=!bullet_infinite,tag=maper] bullet_need 3",
          "/scoreboard players operation @s[m=!c,tag=!bullet_infinite,tag=maper] bullet_need -= @s bullet_6",
          "/scoreboard players operation @s[m=!c,tag=!bullet_infinite,tag=maper] bullet_query = @s bullet_back_sp",
          "/scoreboard players operation @s[m=!c,tag=!bullet_infinite,tag=maper] bullet_query -= @s bullet_need",
          // 备弹够填满主弹夹
          "/scoreboard players set @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_query=0..}] bullet_6 3",
          "/scoreboard players operation @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_query=0..}] bullet_back_sp -= @s bullet_need",
          // 备弹不够填满主弹夹
          "/scoreboard players operation @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_query=..-1}] bullet_6 += @s bullet_back_sp",
          "/scoreboard players set @s[m=!c,tag=!bullet_infinite,tag=maper,scores={bullet_query=..-1}] bullet_back_sp 0",
          "/titleraw @s[m=!c,tag=!bullet_infinite,tag=maper] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_back_sp\"}},{\"text\":\"§f >\"}]}",

          // 【模组】

          "/scoreboard players set @s[m=!c,tag=!bullet_infinite,tag=!maper,hasitem={item=coldsink:weapon_6_clip}] bullet_6 3",
          "/clear @s[m=!c,tag=!bullet_infinite,tag=!maper] coldsink:weapon_6_clip 0 1",
          "/titleraw @s[m=!c,tag=!bullet_infinite,tag=!maper] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §73\"},{\"text\":\"§f >\"}]}",
          
          // 【创造】

          "/scoreboard players set @s[m=c] bullet_6 3",
          "/titleraw @s[m=c] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §73\"},{\"text\":\"§f >\"}]}",

          "/scoreboard players set @s[tag=bullet_infinite] bullet_6 3",
          "/titleraw @s[tag=bullet_infinite] actionbar {\"rawtext\":[{\"text\":\"§f< §7\"},{\"score\":{\"name\":\"@s\",\"objective\":\"bullet_6\"}},{\"text\":\"§f / §73\"},{\"text\":\"§f >\"}]}",

          "/event entity @s action_clear"
        ]
      }
    }
  }
}
